export type Locale = 'en' | 'th'

const translations = {
  en: {
    app_name: 'Trip Planner',
    save: 'Save',
    cancel: 'Cancel',
    delete: 'Delete',
    edit: 'Edit',
    add: 'Add',
    create: 'Create',
    update: 'Update',
    close: 'Close',
    confirm: 'Confirm',
    loading: 'Loading...',
    no_data: 'No data',
    home: 'Home',
    trips: 'Trips',
    settings: 'Settings',
    trip: 'Trip',
    trips_list: 'Your Trips',
    create_trip: 'Create Trip',
    edit_trip: 'Edit Trip',
    trip_title: 'Trip Title',
    destination: 'Destination',
    start_date: 'Start Date',
    end_date: 'End Date',
    currency: 'Currency',
    delete_trip: 'Delete Trip',
    delete_trip_confirm: 'Are you sure you want to delete this trip?',
    day: 'Day',
    days: 'Days',
    add_day: 'Add Day',
    day_n: 'Day {{n}}',
    activity: 'Activity',
    activities: 'Activities',
    add_activity: 'Add Activity',
    edit_activity: 'Edit Activity',
    activity_title: 'Activity Title',
    start_time: 'Start Time',
    end_time: 'End Time',
    cost: 'Cost',
    notes: 'Notes',
    category: 'Category',
    place: 'Place',
    no_activities: 'No activities yet',
    delete_activity_confirm: 'Are you sure you want to delete this activity?',
    transportation: 'Transportation',
    transports: 'Transports',
    add_transport: 'Add Transport',
    edit_transport: 'Edit Transport',
    transport_mode: 'Transport Mode',
    provider: 'Provider',
    depart_time: 'Depart Time',
    arrive_time: 'Arrive Time',
    distance: 'Distance',
    duration: 'Duration',
    from: 'From',
    to: 'To',
    recalculate: 'Recalculate',
    delete_transport_confirm: 'Are you sure you want to delete this transport?',
    mode_walk: 'Walk',
    mode_bike: 'Bike',
    mode_scooter: 'Scooter',
    mode_car: 'Car',
    mode_taxi: 'Taxi',
    mode_bus: 'Bus',
    mode_train: 'Train',
    mode_metro: 'Metro',
    mode_ferry: 'Ferry',
    mode_flight: 'Flight',
    mode_other: 'Other',
    budget: 'Budget',
    total_cost: 'Total Cost',
    daily_budget: 'Daily Budget',
    activities_cost: 'Activities',
    transport_cost: 'Transport',
    map: 'Map',
    show_map: 'Show Map',
    hide_map: 'Hide Map',
    map_not_available: 'Map not available (API key required)',
    default_currency: 'Default Currency',
    mapbox_token: 'Mapbox Token (optional)',
    success_created: 'Created successfully',
    success_updated: 'Updated successfully',
    success_deleted: 'Deleted successfully',
    error_occurred: 'An error occurred',
    error_loading: 'Error loading data',
    export_pdf: 'Export PDF',
    exporting: 'Exporting...',
  },
  th: {
    app_name: 'วางแผนการเดินทาง',
    save: 'บันทึก',
    cancel: 'ยกเลิก',
    delete: 'ลบ',
    edit: 'แก้ไข',
    add: 'เพิ่ม',
    create: 'สร้าง',
    update: 'อัปเดต',
    close: 'ปิด',
    confirm: 'ยืนยัน',
    loading: 'กำลังโหลด...',
    no_data: 'ไม่มีข้อมูล',
    home: 'หน้าแรก',
    trips: 'การเดินทาง',
    settings: 'การตั้งค่า',
    trip: 'การเดินทาง',
    trips_list: 'การเดินทางของคุณ',
    create_trip: 'สร้างการเดินทาง',
    edit_trip: 'แก้ไขการเดินทาง',
    trip_title: 'ชื่อการเดินทาง',
    destination: 'จุดหมายปลายทาง',
    start_date: 'วันที่เริ่ม',
    end_date: 'วันที่สิ้นสุด',
    currency: 'สกุลเงิน',
    delete_trip: 'ลบการเดินทาง',
    delete_trip_confirm: 'คุณแน่ใจหรือไม่ว่าต้องการลบการเดินทางนี้?',
    day: 'วัน',
    days: 'วัน',
    add_day: 'เพิ่มวัน',
    day_n: 'วันที่ {{n}}',
    activity: 'กิจกรรม',
    activities: 'กิจกรรม',
    add_activity: 'เพิ่มกิจกรรม',
    edit_activity: 'แก้ไขกิจกรรม',
    activity_title: 'ชื่อกิจกรรม',
    start_time: 'เวลาเริ่ม',
    end_time: 'เวลาสิ้นสุด',
    cost: 'ค่าใช้จ่าย',
    notes: 'หมายเหตุ',
    category: 'หมวดหมู่',
    place: 'สถานที่',
    no_activities: 'ยังไม่มีกิจกรรม',
    delete_activity_confirm: 'คุณแน่ใจหรือไม่ว่าต้องการลบกิจกรรมนี้?',
    transportation: 'การเดินทาง',
    transports: 'การเดินทาง',
    add_transport: 'เพิ่มการเดินทาง',
    edit_transport: 'แก้ไขการเดินทาง',
    transport_mode: 'ประเภทการเดินทาง',
    provider: 'ผู้ให้บริการ',
    depart_time: 'เวลาออกเดินทาง',
    arrive_time: 'เวลาถึง',
    distance: 'ระยะทาง',
    duration: 'ระยะเวลา',
    from: 'จาก',
    to: 'ถึง',
    recalculate: 'คำนวณใหม่',
    delete_transport_confirm: 'คุณแน่ใจหรือไม่ว่าต้องการลบการเดินทางนี้?',
    mode_walk: 'เดิน',
    mode_bike: 'จักรยาน',
    mode_scooter: 'สกู๊ตเตอร์',
    mode_car: 'รถยนต์',
    mode_taxi: 'แท็กซี่',
    mode_bus: 'รถบัส',
    mode_train: 'รถไฟ',
    mode_metro: 'รถไฟใต้ดิน',
    mode_ferry: 'เรือเฟอร์รี่',
    mode_flight: 'เครื่องบิน',
    mode_other: 'อื่นๆ',
    budget: 'งบประมาณ',
    total_cost: 'ค่าใช้จ่ายทั้งหมด',
    daily_budget: 'งบประมาณรายวัน',
    activities_cost: 'กิจกรรม',
    transport_cost: 'การเดินทาง',
    map: 'แผนที่',
    show_map: 'แสดงแผนที่',
    hide_map: 'ซ่อนแผนที่',
    map_not_available: 'ไม่มีแผนที่ (ต้องการคีย์ API)',
    default_currency: 'สกุลเงินเริ่มต้น',
    mapbox_token: 'โทเค็น Mapbox (ไม่บังคับ)',
    success_created: 'สร้างเรียบร้อยแล้ว',
    success_updated: 'อัปเดตเรียบร้อยแล้ว',
    success_deleted: 'ลบเรียบร้อยแล้ว',
    error_occurred: 'เกิดข้อผิดพลาด',
    error_loading: 'เกิดข้อผิดพลาดในการโหลดข้อมูล',
    export_pdf: 'ส่งออก PDF',
    exporting: 'กำลังส่งออก...',
  },
}

export type TranslationKey = keyof typeof translations.en

let currentLocale: Locale = 'en'

export function setLocale(locale: Locale) {
  currentLocale = locale
}
export function getLocale(): Locale {
  return currentLocale
}

export function t(
  key: TranslationKey,
  locale?: Locale,
  replacements?: Record<string, string | number>
): string {
  const effectiveLocale = locale || currentLocale
  let text = translations[effectiveLocale][key] || translations.en[key] || key
  if (replacements) {
    Object.entries(replacements).forEach(([placeholder, value]) => {
      text = text.replace(`{{${placeholder}}}`, String(value))
    })
  }
  return text
}
